
# ã€æ¯æ—¥ä¸€é¢˜ã€‘(37é¢˜)ç®—æ³•é¢˜ï¼šä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(ä¸ƒ)

å…³æ³¨ã€Œæ¾å®å†™ä»£ç ã€ï¼Œç²¾é€‰å¥½æ–‡ï¼Œæ¯æ—¥ä¸€é¢˜

å‰å…­æœŸçš„å›¾è®ºå·²ç»ä»‹ç»å®Œäº†ï¼Œä»Šå¤©æˆ‘ä»¬ä»‹ç»ç¬¬ä¸ƒæœŸã€‚

ä»Šå¤©å¸¦æ¥çš„æ˜¯`Overstars`çš„å›¾è®ºæ€»ç»“ï¼ŒACMæ‰“æ¯”èµ›ï¼Œä»–çš„æ–¹å‘æ˜¯æ€ç»´æ•°è®ºå›¾è®ºã€‚ä¸‹æ–‡æ˜¯ä»–å’Œä»–é˜Ÿå‹å››å¹´åˆ·å›¾è®ºçš„æ€»ç»“ã€‚å…¶å®æœ¬èº«å°±æ˜¯ä¸ªç¬”è®°ï¼Œä»¥åæ–¹ä¾¿æ‰“æ¿å­çš„ã€‚

> ä½œè€…ï¼š Overstars
> https://shuangxunian.gitee.io/2020/08/24/graphTheory/

2020ï¼Œå®ã€Œé¼ ã€ä¸æ˜“

2021ï¼Œã€Œç‰›ã€è½¬ä¹¾å¤

é£åŠ²æ½®æ¶Œå½“æ‰¬å¸†ï¼Œä»»é‡é“è¿œé¡»å¥‹è¹„ï¼

***

## ä¸€ã€å‰è¨€

2020.12.23 ç«‹çš„ flagï¼Œæ¯æ—¥ä¸€é¢˜ï¼Œé¢˜ç›®ç±»å‹ä¸é™åˆ¶ï¼Œæ¶‰åŠåˆ°JavaScriptï¼ŒNodeï¼ŒVueï¼ŒReactï¼Œæµè§ˆå™¨ï¼Œhttpï¼Œç®—æ³•ç­‰é¢†åŸŸã€‚

æœ¬æ–‡æ˜¯ï¼šã€æ¯æ—¥ä¸€é¢˜ã€‘(37é¢˜)ç®—æ³•é¢˜ï¼šä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(ä¸ƒ)

![æ¯æ—¥ä¸€é¢˜](https://raw.githubusercontent.com/saucxs/full_stack_knowledge_list/master/daily-question/daily_question.png?raw=true)

å‰5æœŸï¼š

[ã€æ¯æ—¥ä¸€é¢˜ã€‘(36é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(å…­)](https://mp.weixin.qq.com/s/BReGF1JB05W5Ge2ZeaEEYw)

[ã€æ¯æ—¥ä¸€é¢˜ã€‘(35é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(äº”)](https://mp.weixin.qq.com/s/_ICHDWO4ma_CbEbbemkxZw)

[ã€æ¯æ—¥ä¸€é¢˜ã€‘(34é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(å››)](https://mp.weixin.qq.com/s/EJ_72u5S7KD4950IEO_CQg)

[ã€æ¯æ—¥ä¸€é¢˜ã€‘(33é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(ä¸‰)](https://mp.weixin.qq.com/s/wRy1xAm4JzHCq1dRjMUuoA)

[ã€æ¯æ—¥ä¸€é¢˜ã€‘(32é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(äºŒ)](https://mp.weixin.qq.com/s/_aSMIEpBc2jvTFXxBaK7nQ)

[ã€æ¯æ—¥ä¸€é¢˜ã€‘(31é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(ä¸€)](https://mp.weixin.qq.com/s/E6dh8A9dVxxB9jaRGm3kbg)


## äºŒã€æ±‡æ€»
+ ç½‘ç»œæµ
	+ 1ã€æ¨¡æ¿éƒ¨åˆ†
	+ 2ã€dijkstraè´¹ç”¨æµ
	+ 3ã€æœ€å¤§æµ
	+ 4ã€è´¹ç”¨æµ

## ä¸‰ã€ç½‘ç»œæµ

æ³¨æ„åå‘æ€è€ƒï¼Œæ·»åŠ æ–°èŠ‚ç‚¹è¿›è¡Œé™æµã€‚

#### æ¨¡æ¿éƒ¨åˆ†

##### dinic

```cpp
struct Dinic
{//å¤æ‚åº¦O(n^2m)
	struct Edge
	{
		int from, to, cap, flow;
		Edge(int u, int v, int c, int f):
			from(u), to(v), cap(c), flow(f) {}
	};
	int n, m, s, t; //ç»“ç‚¹æ•°,è¾¹æ•°(åŒ…æ‹¬åå‘å¼§),æºç‚¹ç¼–å·å’Œæ±‡ç‚¹ç¼–å·
	vector<Edge> edges; //è¾¹è¡¨ã€‚edge[e]å’Œedge[e^1]äº’ä¸ºåå‘å¼§
	vector<int> G[maxn]; //é‚»æ¥è¡¨ï¼ŒG[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jæ¡è¾¹åœ¨eæ•°ç»„ä¸­çš„åºå·
	bool vis[maxn]; //BFSä½¿ç”¨
	int d[maxn]; //ä»èµ·ç‚¹åˆ°içš„è·ç¦»
	int cur[maxn]; //å½“å‰å¼§ä¸‹æ ‡
	void init(int n)
	{
		this->n = n;
		for (int i = 0; i < n; i++) G[i].clear();
		edges.clear();
	}
	void AddEdge(int from, int to, int cap)
	{
		edges.push_back(Edge(from, to, cap, 0));
		edges.push_back(Edge(to, from, 0, 0));//åå‘å¼§,åˆå§‹å®¹é‡ä¸º0
		m = edges.size();
		G[from].push_back(m - 2);
		G[to].push_back(m - 1);
	}
	bool BFS()
	{
		memset(vis, 0, sizeof(vis));
//		memset(d, 0, sizeof(d));
		queue<int> q;
		q.push(s);
		d[s] = 0;
		vis[s] = 1;
		while (!q.empty())
		{
			int x = q.front();
			q.pop();
			for (int i = 0; i < G[x].size(); i++)
			{
				Edge& e = edges[G[x][i]];
				if (!vis[e.to] && e.cap > e.flow)
				{//åªè€ƒè™‘æ®‹é‡ç½‘ç»œä¸­çš„å¼§
					vis[e.to] = 1;
					d[e.to] = d[x] + 1;//æ„é€ åˆ†å±‚å›¾
					q.push(e.to);
				}
			}
		}
		return vis[t];//æœ‰æ— å¢å¹¿è·¯,s->t
	}
	int DFS(int x, int a)//xä¸ºå½“å‰ç‚¹,aä¸ºå½“å‰è¾¹ä¸Šæµé‡
	{//åœ¨å±‚æ¬¡å›¾ä¸Šå‘tå»¶ä¼¸,å¤šè·¯å¢å¹¿
		if(x==t||a==0)//åˆ°è¾¾ç›®æ ‡/æµé‡ä¸º0æ–­æµ
			return a;
		int flow = 0, f;
		for(int& i=cur[x];i<G[x].size();i++)//ä»ä¸Šä¸€æ¬¡xéå†è·‘åˆ°çš„ç‚¹å¼€å§‹è·‘
		{//ä»ä¸Šæ¬¡è€ƒè™‘çš„å¼§
			Edge& e = edges[G[x][i]];
			if(d[x]+1==d[e.to]&&(f=DFS(e.to,min(a,e.cap-e.flow))) > 0)
			{//åªä»å±‚æ•°ç¼–å·è¾ƒå°çš„ç‚¹åˆ°ä¸‹ä¸€å±‚çš„ç‚¹
				e.flow += f;//è¯¥è·¯å¾„ä¸Šè¾¹æµé‡éƒ½å¢åŠ f
				edges[G[x][i]^1].flow -= f;//æ–¹ä¾¿åæ‚”
				flow += f;
				a -= f;//ç”¨å»å¯å¢å¹¿é‡
				if(a==0)//aç­‰äº0åŠæ—¶é€€å‡º
					break;//å½“a!=0,è¯´æ˜å½“å‰èŠ‚ç‚¹è¿˜å­˜åœ¨å¦ä¸€ä¸ªå¢å¹¿è·¯åˆ†æ”¯ã€‚
			}
		}
		if(!flow)//å¢å¹¿åå®¹é‡æ»¡äº†
			d[x] = -1;//ç‚¸ç‚¹ä¼˜åŒ–,ä¸å¿…è¦çš„ç‚¹ä¸‹ä¸€æ¬¡å°±ä¸ç”¨éå†
		return flow;//è¿”å›xèŠ‚ç‚¹æœ€å¤§æµé‡,ä¼ é€’åˆ°ä¸Šä¸€çº§
	}
	int Maxflow(int s, int t)
	{
		this->s = s, this->t = t;
		int flow = 0;
		while (BFS())//ä¸åœåœ°ç”¨bfsæ„é€ åˆ†å±‚ç½‘ç»œï¼Œç„¶åç”¨dfsæ²¿ç€é˜»å¡æµå¢å¹¿
		{
			memset(cur, 0, sizeof(cur));//å»ºå®Œåˆ†å±‚å›¾åcurä¹Ÿè¦åˆå§‹åŒ–
			flow += DFS(s,inf);
		}
		return flow;
	}
} di;
```

#### dijkstraè´¹ç”¨æµ

```cpp
struct MCMF {
	struct Edge {
		ll v, cap, cost, rev;
	};
	const ll INF=0x3f3f3f3f3f3f3f3f;
	ll flow, cost, s, t, n;//å‰é©±ç»“ç‚¹å’Œå¯¹åº”è¾¹
	ll dist[maxn], H[maxn], pv[maxn], pe[maxn];//Hä¸ºèŠ‚ç‚¹åŠ¿å‡½æ•°
	std::vector<Edge> G[maxn];//å› ä¸ºè¦è®°å½•å‰é©±,ä¸èƒ½ç”¨å‰å‘æ˜Ÿ
	void init(int n){
		this->n = n;
		for (int i = 0; i <= n; ++i) G[i].clear();
	}
	void addEdge(int u, int v, int cap, ll cost){//dojkè´¹ç”¨æµä¸­ä¸¤èŠ‚ç‚¹é—´æµå‘å•å‘
		G[u].push_back({v,cap,cost,G[v].size()});
		G[v].push_back({u,0,-cost,G[u].size()-1});
	}
	bool dijkstra()//è¿™é‡Œæ˜¯å•è·¯å¢å¹¿
	{//å¤æ‚åº¦ç›¸å¯¹SPFAç¨³å®š
		std::priority_queue<pair<ll,ll>, std::vector<pair<ll,ll>>, std::greater<pair<ll,ll>> > q;
		std::fill(dist, dist + n + 1, INF);
		dist[s] = 0; q.push({ 0, s });
		while (!q.empty())
		{//åˆ°xè·ç¦»å³ä¸ºåˆ°xçš„å•ä½èŠ±è´¹ä¹‹å’Œ
			pair<ll,ll> x = q.top(); q.pop();
			ll& u = x.second;
			if (dist[u] < x.first) continue;//ä¸èƒ½ä¼˜åŒ–è·ç¦»
			for (int i = 0; i < G[u].size(); ++i)
			{
				Edge& e = G[u][i];//å½“å‰è¾¹
				ll& v = e.v;
				pair<ll,ll> y(dist[u] + e.cost + H[u] - H[v], v);
				if (e.cap > 0 && dist[v] > y.first)
				{
					dist[v] = y.first;
					pv[v] = u,pe[v] = i;//å‰é©±ç‚¹ä¸å‰é©±è¾¹
					q.push(y);
				}
			}
		}
		if (dist[t] == INF)//æ— æ³•å¢å¹¿
			return false;
		for (int i = 0; i <= n; ++i)//æ›´æ–°æ¯è½®çš„åŠ¿å‡½æ•°
			H[i] += dist[i];
		ll f = INF;
		for (int v = t; v != s; v = pv[v])//æ²¿å¢å¹¿è·¯å›åˆ°èµ·ç‚¹
			f = std::min(f, G[pv[v]][pe[v]].cap);
		flow += f;//æ¯æ¬¡å¢å¹¿ä¸€æ¡è·¯å¾„,è¿™æ¡è·¯å¾„å¢å¹¿é‡å°±æ˜¯æ–°å¢çš„æµé‡
		cost += f * H[t];//h[t]-h[s]å³ä¸ºsåˆ°tçš„è·¯å¾„é•¿
		for (int v = t; v != s; v = pv[v])
		{//æ›´æ–°å¢å¹¿è·¯å®¹é‡ä¿¡æ¯
			Edge& e = G[pv[v]][pe[v]];
			e.cap -= f;
			G[v][e.rev].cap += f;
		}
		return true;
	}
	ll solve(int s, int t)
	{
		this->s = s, this->t = t;
		flow = cost = 0;
		std::fill(H, H + n + 1, 0);//åˆå§‹ç½‘ç»œä¸º0éè´Ÿ,åŠ¿å‡½æ•°ä¹Ÿä¸º0
		while (dijkstra());//æ¯æ¬¡é€‰æ‹©æœ€å°è´¹ç”¨å¢å¹¿è·¯å¾„ä¸€å®šæ˜¯å½“å‰æ®‹ç•™å›¾çš„æœ€å°å¢å¹¿è·¯å¾„
		return flow;
	}
} mcmf;
```



#### æœ€å¤§æµ

##### å¤ªç©ºé£è¡Œè®¡åˆ’é—®é¢˜ï¼ˆæœ€å°å‰²,æ”¶ç›Šæœ€å¤§é—®é¢˜ï¼‰

 **æœ€ä¼˜æ”¶ç›Š = æ‰€æœ‰å®éªŒçš„æŠ¥é…¬æ€»å’Œ - è¯¥å›¾çš„æœ€å¤§æµ**

```cpp
	int m,n;//å®éªŒæ•°,ä»ªå™¨æ•°
	scanf("%d%d",&m,&n);
	int s=0,t=m+n+1,sum=0;
	di.init(t);
	for(int i=1;i<=m;i++)
	{
		int profit,equ;
		scanf("%d",&profit);
		sum+=profit;//sumä¸ºæ‰€æœ‰æ”¶ç›Šä¹‹å’Œ
		di.AddEdge(s,i,profit);//æºç‚¹åˆ°å®éªŒ
		while(1)
		{
			char ch;
			scanf("%d%c",&equ,&ch);
			di.AddEdge(i,m+equ,inf);//å®éªŒåˆ°å™¨æ
			if(ch=='\r'||ch=='\n')
				break;
		}
	}
	for(int i=1;i<=n;i++)
	{
		int cost;
		scanf("%d",&cost);
		di.AddEdge(m+i,t,cost);//å™¨æåˆ°æ±‡ç‚¹
	}
	int ans=di.Maxflow(s,t);
	for(int i=1;i<=m;i++)
	{
		if(di.d[i])//é€‰æ‹©å»åšçš„å®éªŒç¼–å·
			printf("%d ",i);
	}
	putchar('\n');
	for(int i=1;i<=n;i++)
	{
		if(di.d[m+i])//éœ€è¦è´­ä¹°çš„å™¨æç¼–å·
			printf("%d ",i);
	}
	printf("\n%d\n",sum-ans);
```
å»ºå›¾åè·‘æœ€å¤§æµæ±‚å‡ºæœ€å°å‰²ï¼Œæ»¡æµçš„å®éªŒè¾¹å‰²æ‰ï¼Œæ»¡æµçš„è®¾å¤‡è¾¹ä¹Ÿåœ¨å‰²é›†é‡Œ(ä½†æ˜¯è¿™æ˜¯éœ€è¦è´­ä¹°çš„)ï¼Œè¯¥æœ€å°å‰²å³ä¸ºæœ€å°äºæŸã€‚
æ‰€ä»¥æœ€åä¸€æ¬¡BFSï¼Œæ‰€æœ‰æœªè¢«å‰²æ‰çš„å®éªŒä¸ºéé¥±å’Œå¼§ï¼Œå¯ä»¥æ±‚å‡ºæ·±åº¦ã€‚
æ‰€ä»¥æœªè¢«å‰²æ‰çš„å®éªŒ(åŠé€‰æ‹©å»åšçš„å®éªŒ)æ‰€è¿æ¥çš„è®¾å¤‡åŒæ ·å¯ä»¥æ±‚å‡ºæ·±åº¦ã€‚

#####  æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜(æœ€å¤§æµ,æœ€å°ä¸ç›¸äº¤è·¯å¾„è¦†ç›–æ¨¡å‹,è¦æ±‚è·¯å¾„æ•°æœ€å°‘,è·¯å¾„è¾“å‡º)

äºŒåˆ†å›¾å®šç†ä¹‹ä¸€ï¼šæœ€å°è·¯å¾„è¦†ç›–æ•°=é¡¶ç‚¹æ•°-æœ€å¤§åŒ¹é…

ä¸è¦ä½¿ç”¨ç‚¸ç‚¹ä¼˜åŒ–ï¼ï¼ï¼

```cpp
//#pragma G++ optimize("O2")
const int maxn = 13005;//ä¸Šå¤§çš„æ¨¡æ¿
const int inf=0x3f3f3f3f;
int nex[maxn];
bool vist[maxn];
int all;
struct Dinic
{
	struct Edge
	{
		int from, to, cap, flow;
		Edge(int u, int v, int c, int f):
			from(u), to(v), cap(c), flow(f) {}
	};
	int n, m, s, t; //ç»“ç‚¹æ•°,è¾¹æ•°(åŒ…æ‹¬åå‘å¼§),æºç‚¹ç¼–å·å’Œæ±‡ç‚¹ç¼–å·
	vector<Edge> edges; //è¾¹è¡¨ã€‚edge[e]å’Œedge[e^1]äº’ä¸ºåå‘å¼§
	vector<int> G[maxn]; //é‚»æ¥è¡¨ï¼ŒG[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jæ¡è¾¹åœ¨eæ•°ç»„ä¸­çš„åºå·
	bool vis[maxn]; //BFSä½¿ç”¨
	int d[maxn]; //ä»èµ·ç‚¹åˆ°içš„è·ç¦»
	int cur[maxn]; //å½“å‰å¼§ä¸‹æ ‡
	void init(int n)
	{
		this->n = n;
		for (int i = 0; i <= n; i++)
			G[i].clear();
		edges.clear();
	}
	inline void AddEdge(int from, int to, int cap)
    {
        edges.emplace_back(Edge(from, to, cap, 0));//é­”æ”¹è”¡é˜Ÿæ¨¡æ¿
        edges.emplace_back(Edge(to, from, 0, 0)); //åå‘å¼§
        this->m = edges.size();
        G[from].push_back(m - 2);
        G[to].push_back(m - 1);
    }
	bool BFS()
	{
		memset(vis, 0, sizeof(vis));
		memset(d, 0, sizeof(d));
		queue<int> q;
		q.push(s);
		d[s] = 0;
		vis[s] = 1;
		while (!q.empty())
		{
			int x = q.front();
			q.pop();
			for (int i = 0; i < G[x].size(); i++)
			{
				Edge& e = edges[G[x][i]];
				if (!vis[e.to] && e.cap > e.flow)
				{
					vis[e.to] = 1;
					d[e.to] = d[x] + 1;
					q.push(e.to);
				}
			}
		}
		return vis[t];
	}
	int DFS(int x, int a)//xä¸ºå½“å‰ç‚¹,aä¸ºå½“å‰è¾¹ä¸Šæµé‡
	{
		if (x == t || a == 0)//åˆ°è¾¾ç›®æ ‡/æµé‡ä¸º0
			return a;
		int flow = 0, f;
		for (int& i = cur[x]; i < G[x].size(); i++)
		{ //ä»ä¸Šæ¬¡è€ƒè™‘çš„å¼§
			Edge& e = edges[G[x][i]];
			if (d[x] + 1 == d[e.to] && (f = DFS(e.to, min(a, e.cap - e.flow))) > 0)
			{
				if(x!=s)//ä¸ºäº†è¾“å‡ºè·¯å¾„ï¼Œæ·»åŠ æ­¤è¯­å¥
				{
					nex[x]=e.to;//è®°å½•ä¸‹ä¸€ä¸ªèŠ‚ç‚¹,ä¾¿äºè¾“å‡º
					vist[e.to-all]=1;//æ‰“æ ‡è®°,æ‰¾èµ·ç‚¹
				}
				e.flow += f;
				edges[G[x][i] ^ 1].flow -= f;
				flow += f;
				a -= f;
				if (a == 0)
					break;
			}
		}//è¿™é¢˜ä¸èƒ½ä¹±ç”¨ç‚¸ç‚¹ä¼˜åŒ–ï¼ï¼ï¼
		return flow;
	}
	int Maxflow(int s, int t)
	{
		this->s = s, this->t = t;
		int flow = 0;
		while (BFS())
		{
			memset(cur, 0, sizeof(cur));
			flow += DFS(s,inf);
		}
		return flow;
	}
} di;
int main()
{//ç»™å®šDAGå›¾G
	int n,m;//nä¸ºDAGé¡¶ç‚¹æ•°ï¼Œmä¸ºè¾¹æ•°
	memset(vist,0,sizeof(vist));
	cin>>n>>m;
	all=n;
	int s=0,t=2*n+1;
	di.init(t);
	for(int i=1;i<=n;i++)//æ‹†ç‚¹ï¼Œåˆ†åˆ«è¿æ¥så’Œt
	{
		di.AddEdge(s,i,1);
		di.AddEdge(n+i,t,1);
	}
	for(int i=1;i<=m;i++)
	{
		int u,v;
		cin>>u>>v;
		di.AddEdge(u,n+v,1);//å®¹é‡ä¸º1
	}
	int ans=di.Maxflow(s,t);
	for(int i=1;i<=n;i++)
	{
		if(!vist[i])//æ²¡æ ‡è®°çš„å°±æ˜¯èµ·ç‚¹
		{
			int now=i;
			cout<<now<<' ';
			while(nex[now]&&nex[now]!=t)
			{
				cout<<nex[now]-n<<' ';
				now=nex[now]-n;
			}
			cout<<endl;
		}
	}
	cout<<n-ans<<endl;//æœ€å°‘è·¯å¾„æ•°
	return 0;
}

```

##### P2774 æ–¹æ ¼å–æ•°é—®é¢˜(æœ€å¤§æµï¼Œæœ€å°å‰²)

 m*n ä¸ªæ–¹æ ¼æ£‹ç›˜ä¸­ï¼Œæ¯ä¸ªæ–¹æ ¼ä¸­æœ‰ä¸€ä¸ªæ­£æ•´æ•°ã€‚ä»æ–¹æ ¼ä¸­å–æ•°ï¼Œä½¿ä»»æ„ 2 ä¸ªæ•°æ‰€åœ¨æ–¹æ ¼æ²¡æœ‰å…¬å…±è¾¹ï¼Œä¸”å–å‡ºçš„æ•°çš„æ€»å’Œæœ€å¤§ã€‚

æ€è·¯ï¼šé»‘ç™½æŸ“è‰²ï¼ŒæŒ‰å¥‡å¶æ€§å»ºç«‹äºŒåˆ†å›¾ï¼Œå¥‡è¿sï¼Œå¶è¿tã€‚æšä¸¾æ¯ä¸ªå¥‡æ•°æ€§è´¨çš„æ–¹æ ¼ï¼Œè¿æ¥ç›¸é‚»çš„å¶æ•°æ€§è´¨çš„æ–¹æ ¼ã€‚è·‘dinicæ±‚å‡ºæœ€å°å‰²ï¼Œæ€»å€¼å‡å»æœ€å°å‰²å³ä¸ºç­”æ¡ˆã€‚

```cpp
int main()
{
    int m,n;
	scanf("%d%d",&m,&n);//æ£‹ç›˜çš„è¡Œæ•°å’Œåˆ—æ•°
    int s=0,t=m*n+1,sum=0;//sumä¸ºæ€»ä»·å€¼
    di.init(t+1);
    for(int i=1;i<=m;i++)
	{
		for(int j=1;j<=n;j++)
		{
			int val,no;
			scanf("%d",&val);//iè¡Œjåˆ—çš„æ•°å€¼
			sum+=val;
			no=n*(i-1)+j;//é‡ç‚¹ï¼šä¸€è¡Œnä¸ª
			if((i+j)%2){//ç›¸é‚»çš„i+jå¥‡å¶æ€§å¿…å®šç›¸æ–¥
				di.AddEdge(s,no,val);//æ ¹æ®å¥‡å¶æ€§è¿æ¥
			}
			else{
				di.AddEdge(no,t,val);
			}
		}
	}//sä¸tçš„è¾¹æ’å…¥ç»“æŸ
	int nx[4]={0,-1,0,1};//åªæšä¸¾ä¸¤ä¸ªæ–¹å‘æ˜¯ä¸å¤Ÿçš„,å› ä¸ºæ˜¯æœ‰å‘å›¾
	int ny[4]={-1,0,1,0};
	for(int i=1;i<=m;i++)//mè¡Œ
		for(int j=1;j<=n;j++)//nåˆ—
		{
			int no=n*(i-1)+j;
			if((i+j)%2){//äºŒåˆ†å›¾å·¦è¾¹çš„èŠ‚ç‚¹,å¼€å§‹è¿æ¥å³é¢çš„èŠ‚ç‚¹
				for(int k=0;k<4;k++)//æšä¸¾æ–¹å‘,ç›¸é‚»çš„å››ä¸ªæ–¹æ ¼
				{
					int x=i+nx[k],y=j+ny[k];//xä¸mè½´åŒæ–¹å‘
					if(x<=0||x>m||y<=0||y>n)
						continue;
					int no2=n*(x-1)+y;//ç›¸é‚»çš„æ–¹æ ¼ç¼–å·
					di.AddEdge(no,no2,inf);
				}
			}
		}
	printf("%d\n",sum-di.Maxflow(s,t));
	return 0;
}
```

#### è´¹ç”¨æµ

##### P4012 æ·±æµ·æœºå™¨äººé—®é¢˜ï¼ˆç‰©å“åœ¨ç½‘æ ¼ä¸Šï¼‰

ç‰©å“åœ¨ç½‘æ ¼çš„è¾¹ä¸Šï¼Œæ¯æ¡ç½‘æ ¼çš„è¾¹æœ‰æƒå€¼ï¼Œäº¤å‰ç‚¹ä½œä¸ºèŠ‚ç‚¹ï¼Œåœ¨å›¾ä¸Šæ·»åŠ ç‚¹å’Œç‚¹ä¹‹é—´çš„è¾¹ï¼Œè®¾å®¹é‡ä¸º1ï¼ŒèŠ±è´¹ä¸º-costã€‚

æ³¨æ„è®¾ç½®å®¹é‡infï¼Œè´¹ç”¨ä¸º0çš„ç»è¿‡è¾¹ï¼Œè·‘æœ€å°è´¹ç”¨æœ€å¤§æµï¼Œç­”æ¡ˆå–è´Ÿã€‚

##### P3356 ç«æ˜Ÿæ¢é™©é—®é¢˜ï¼ˆç‰©å“åœ¨äº¤å‰ç‚¹ä¸Šï¼‰

ç‰©å“åœ¨èŠ‚ç‚¹ä¸Šï¼Œè€Œä¸”æœ‰éšœç¢ã€‚

æ€è·¯ï¼šæ‹†ç‚¹ï¼Œè‹¥ä¸ä¸ºéšœç¢ï¼Œæ‹†ç‚¹é—´æ·»åŠ å®¹é‡ä¸ºinfï¼Œä»·å€¼ä¸º0çš„è¾¹ï¼›è‹¥è¯¥ç‚¹æœ‰æ‰€éœ€ç‰©å“ï¼Œä¸¤ç‚¹é—´é¢å¤–æ·»åŠ ä¸€æ¡å®¹é‡ä¸º1ä»·å€¼ä¸º-valçš„è¾¹ï¼›

è·‘æœ€å°è´¹ç”¨æœ€å¤§æµå³å¯ï¼Œä½¿ç”¨DFSè¾“å‡ºè·¯å¾„ã€‚

```cpp
for(int i=1;i<=n;i++)
	{
		flag=0;
		mm.dfs(1,1,1,i);//èµ·ç‚¹(1,1),å‡ºç‚¹1,ç¬¬iå·æœºå™¨äºº
	}
void MCMF::dfs(int x,int y,int u,int no)//ç¬¬noå·æœºå™¨äººåˆ°è¾¾äº†uèŠ‚ç‚¹
{
	int kx,ky,dir;//0å‘ä¸‹,1å‘å³
	int res=p*q+u;//uèŠ‚ç‚¹çš„æ‹†ç‚¹ç¼–å·
	if(flag)//noå·åˆ°è¾¾äº†ç»ˆç‚¹
		return;
	for(int i=0;i<G[res].size();i++)
	{
		if(flag)
			return;
		if(edges[G[res][i]].flow>0&&(edges[G[res][i]].to==u+1||edges[G[res][i]].to==u+p))//æ®‹ä½™æµé‡å¤§äº0
		{//qè¡Œ,påˆ—,xä¸qåŒæ–¹å‘,è¡¨ç¤ºç¬¬å‡ è¡Œ
			edges[G[res][i]].flow--;
			if(edges[G[res][i]].to==u+1)//å‘å³
				dir=1;
			else
				dir=0;
			printf("%d %d\n",no,dir);
			if(dir==1)
                dfs(x,y+1,u+1,no);
//				printf("(%d,%d)->(%d,%d)\n",x,y,x,y+1);
			else
                dfs(x+1,y,u+p,no);
//				printf("(%d,%d)->(%d,%d)\n",x,y,x+1,y);
			if(edges[G[res][i]].to==p*q)
				flag=1;
		}
	}
}
```

##### [P2604 æ‰©å®¹è´¹ç”¨é—®é¢˜ ](https://www.luogu.org/problem/P2604)

é—®é¢˜ï¼šç»™å‡ºDAGæ¯æ¡è¾¹çš„å®¹é‡å’Œæ‰©å®¹è´¹ç”¨ï¼Œ1.æ±‚å‡º1åˆ°nçš„æœ€å¤§æµã€‚2.æ±‚å‡º1åˆ°nçš„æœ€å¤§æµå¢åŠ Kæ‰€éœ€çš„æœ€å°æ‰©å®¹è´¹ç”¨ã€‚

å…ˆè·‘ä¸€ä¸ªé›¶è´¹ç”¨æœ€å¤§æµã€‚åˆ©ç”¨æ®‹ä½™ç½‘ç»œè¿›è¡Œè´¹ç”¨æµæ‰©å®¹ï¼Œå°†åŸæ¥çš„0è´¹ç”¨ç½‘ç»œæ·»åŠ æ–°çš„è´¹ç”¨è¾¹ï¼Œå¹¶è¿›è¡Œ**é™æµ**ï¼Œcostå³ä¸ºæ‰©å®¹è´¹ç”¨ã€‚

```cpp
int n,m,k;
cin>>n>>m>>k;
mm.init(n+10);
for(int i=1;i<=m;i++){
	cin>>e[i].u>>e[i].v>>e[i].c>>e[i].w;
	mm.AddEdge(e[i].u,e[i].v,e[i].c,0);//è´¹ç”¨ä¸º0ï¼Œè·‘æœ€å¤§æµ
}
ll cost;
cout<<mm.MincostMaxflow(1,n,cost)<<' ';
for(int i=1;i<=m;i++)//ç»™åŸæ¥æ¯æ¡è¾¹ä¸Šæ·»åŠ æ–°è¾¹,
	mm.AddEdge(e[i].u,e[i].v,inf,e[i].w);
int s=0;//è¶…çº§æºç‚¹s
mm.AddEdge(s,1,k,0);//såˆ°1è¿›è¡Œé™æµ
mm.MincostMaxflow(s,n,cost);//è´¹ç”¨æµ
cout<<cost<<endl;//æ‰©å®¹è´¹ç”¨
```

#### æ›´å¤šé˜…è¯»
+ [ã€æ¯æ—¥ä¸€é¢˜ã€‘(36é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(å…­)](https://mp.weixin.qq.com/s/BReGF1JB05W5Ge2ZeaEEYw)

+ [ã€æ¯æ—¥ä¸€é¢˜ã€‘(35é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(äº”)](https://mp.weixin.qq.com/s/_ICHDWO4ma_CbEbbemkxZw)

+ [ã€æ¯æ—¥ä¸€é¢˜ã€‘(34é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(å››)](https://mp.weixin.qq.com/s/EJ_72u5S7KD4950IEO_CQg)

+ [ã€æ¯æ—¥ä¸€é¢˜ã€‘(33é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(ä¸‰)](https://mp.weixin.qq.com/s/wRy1xAm4JzHCq1dRjMUuoA)

+ [ã€æ¯æ—¥ä¸€é¢˜ã€‘(32é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(äºŒ)](https://mp.weixin.qq.com/s/_aSMIEpBc2jvTFXxBaK7nQ)

+ [ã€æ¯æ—¥ä¸€é¢˜ã€‘(31é¢˜)é¢è¯•å®˜:ä½ å¯¹å›¾è®ºäº†è§£å¤šå°‘ï¼Ÿ(ä¸€)](https://mp.weixin.qq.com/s/E6dh8A9dVxxB9jaRGm3kbg)



## è°¢è°¢æ”¯æŒ

1ã€ä½œè€…æ˜µç§°ï¼šsaucxsï¼ŒsongEagleï¼Œæ¾å®å†™ä»£ç ã€‚ã€Œæ¾å®å†™ä»£ç ã€å…¬ä¼—å·ä½œè€…ï¼Œæ¯æ—¥ä¸€é¢˜ï¼Œå®éªŒå®¤ç­‰ã€‚ä¸€ä¸ªçˆ±å¥½æŠ˜è…¾ï¼Œè‡´åŠ›äºå…¨æ ˆï¼Œæ­£åœ¨åŠªåŠ›æˆé•¿çš„å­—èŠ‚è·³åŠ¨å·¥ç¨‹å¸ˆï¼Œæ˜Ÿè¾°å¤§æµ·ï¼Œæœªæ¥å¯æœŸã€‚**å†…æ¨å­—èŠ‚è·³åŠ¨å„ä¸ªéƒ¨é—¨å„ä¸ªå²—ä½ã€‚**

2ã€é•¿æŒ‰ä¸‹é¢å›¾ç‰‡ï¼Œå…³æ³¨ã€Œæ¾å®å†™ä»£ç ã€ï¼Œæ˜¯è·å–å¼€å‘çŸ¥è¯†ä½“ç³»æ„å»ºï¼Œç²¾é€‰æ–‡ç« ï¼Œé¡¹ç›®å®æˆ˜ï¼Œå®éªŒå®¤ï¼Œ**æ¯æ—¥ä¸€é“é¢è¯•é¢˜**ï¼Œè¿›é˜¶å­¦ä¹ ï¼Œæ€è€ƒèŒä¸šå‘å±•ï¼Œæ¶‰åŠåˆ°JavaScriptï¼ŒNodeï¼ŒVueï¼ŒReactï¼Œæµè§ˆå™¨ï¼Œhttpï¼Œç®—æ³•ï¼Œç«¯ç›¸å…³ï¼Œå°ç¨‹åºç­‰é¢†åŸŸï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°ä½ ï¼Œæˆ‘ä»¬ä¸€èµ·æˆé•¿ï½

![æ¾å®å†™ä»£ç ](https://raw.githubusercontent.com/saucxs/full_stack_knowledge_list/master/daily-question/dongtai.gif?raw=true)

3ã€æ–‡ç« å–œæ¬¢çš„è¯**å¯ä»¥ã€Œåˆ†äº«ï¼Œç‚¹èµï¼Œåœ¨çœ‹ã€ä¸‰è¿**å“¦ã€‚

4ã€**çº¢åŒ…ğŸ§§ç¦åˆ©**

æ˜é‡‘ã€2020åˆ›ä½œè€…æ¦œå•ã€‘æŠ•ç¥¨å€’è®¡æ—¶2å¤©ï¼Œå†²åˆºé˜¶æ®µã€‚

ç®€åŒ–æµç¨‹ï¼Œç›´æ¥åœ¨æ‰‹æœºä¸Šå°±å¯ä»¥æŠ•å®Œ18ç¥¨ã€‚

ç¬¬1æ­¥ï¼šä¸‹è½½æ˜é‡‘APPï¼Œæ‰“å¼€APPï¼Œé¦–é¡µé¡¶éƒ¨ã€2020åˆ›ä½œè€…æ¦œå•ã€‘ç‚¹å‡»è¿›å…¥ï¼Œæœç´¢saucxsï¼ŒæŠ•6ç¥¨ï¼›

ç¬¬2æ­¥ï¼šç‚¹å‡»å¸®ä»–æ‹‰ç¥¨æŒ‰é’®ï¼Œåˆ†äº«ç»™æˆ‘æˆ–è€…ç¾¤é‡Œï¼Œç„¶åå›åˆ°APPï¼Œå°±å¯ä»¥å†æŠ•6ç¥¨ï¼›

ç¬¬3æ­¥ï¼šå›åˆ°å¾®ä¿¡ï¼Œç‚¹å‡»ä½ åˆšæ‰åˆ†äº«çš„é“¾æ¥ï¼Œç‚¹å‡»æŠ•ç¥¨ï¼Œè·³è½¬åˆ°ç™»å½•ï¼Œç™»å½•å®Œäº‹åï¼Œå°±å¯ä»¥å†æŠ•6ç¥¨ã€‚

ç¬¬4æ­¥ï¼šåœ¨ã€Œæ¾å®å†™ä»£ç ã€åå°å›å¤æˆ‘æˆªå›¾ï¼Œç„¶åæˆ‘ä»¬æŠ½å¥–å‘çº¢åŒ…ï¼Œæœ‰æ›´å¤šæƒŠå–œã€‚
